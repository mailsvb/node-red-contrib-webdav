<script type="text/javascript">
  RED.nodes.registerType('webdav-mkdir', {
    category: 'storage',
    color: '#0082c9',
    paletteLabel: 'mkdir',
    defaults: {
      wname: {value: ''},
      server: {type: 'webdav-credentials', required: true},
      directory: {value: '', required: false}
    },
    inputs: 1,
    outputs: 1,
    outputLabels: ['stdout'],
    icon: 'nextcloud.png',
    label: function() {
      return this.wname || 'mkdir'
    }
  })
</script>

<script type="text/x-red" data-template-name="webdav-mkdir">
    <div class="form-row">
        <label for="node-input-wname"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-wname" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-server"><i class="fa fa-server"></i> Server</label>
        <input type="text" id="node-input-server">
    </div>
    <div class="form-row">
        <label for="node-input-directory"><i class="fa fa-sitemap"></i> Directory</label>
        <input type="text" id="node-input-directory">
    </div>
</script>

<script type="text/x-red" data-help-name="webdav-mkdir">
    <p>Connects to a WebDAV server and creates a directory of a given path</p>

    <h3>Inputs</h3>
    <dl class="message-properties">
        <dt>payload
            <span class="property-type">any</span>
        </dt>
        <dd> Incoming message triggers creating a directory. Any payload is possible. </dd>
        <dt class="optional">directory <span class="property-type">string</span></dt>
        <dd> A directory can be specified on incoming message or in nodes properties.</dd>
    </dl>
</script>
